@{
    var id = Model.QueueType.ToString() + "Queue";

    string statusText = null;
    string statusTitle = null;
    if (Model.PoisonApproximateMessageCount > 0)
    {
        statusText = "⚠";
        statusTitle = "There are messages in the dead letter queue.";
    }
    else if (Model.ApproximateMessageCount > 0)
    {
        statusText = "⌛";
        statusTitle = "There are messages being processed.";
    }
}

<CollapseCard IdPrefix="@id" Title="@id.Humanize()" StatusText="@statusText" StatusTitle="@statusTitle" Collapsed="false">
    <ul class="list-group list-group-flush">
        <li class="list-group-item"><b>Total message count:</b> @(Model.ApproximateMessageCount + Model.PoisonApproximateMessageCount)</li>
        <li class="list-group-item"><b>Main - approximate message count:</b> @Model.ApproximateMessageCount</li>
        <li class="list-group-item"><b>Main - available messages:</b> @(Model.AvailableMessageCountIsExact ? string.Empty : "≥") @Model.AvailableMessageCountLowerBound</li>
        <li class="list-group-item"><b>Poison - approximate message count:</b> @Model.PoisonApproximateMessageCount</li>
        <li class="list-group-item"><b>Poison - available messages:</b> @(Model.PoisonAvailableMessageCountIsExact ? string.Empty : "≥") @Model.PoisonAvailableMessageCountLowerBound</li>
    </ul>
</CollapseCard>

@code {
    [Parameter]
    public QueueViewModel Model { get; set; }
}
